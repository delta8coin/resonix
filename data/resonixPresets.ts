import type { Preset, MasterEffects } from '../types/resonix';

const defaultEffects: MasterEffects = {
  reverb: {
    enabled: true,
    decay: 2.5,
    wet: 0.2,
  },
  delay: {
    enabled: false,
    time: 0.25,
    feedback: 0.3,
    wet: 0.15,
  },
  eq: {
    enabled: false,
    low: 0,
    mid: 0,
    high: 0,
  },
  compressor: {
    enabled: true,
    threshold: -24,
    ratio: 4,
    attack: 0.003,
    release: 0.25,
  },
  limiter: {
    enabled: true,
    threshold: -1,
  },
};

export const RESONIX_PRESETS: Preset[] = [
  {
    id: 'focus-10',
    name: 'Hemi-Sync Focus 10',
    description:
      'Mind awake, body asleep state. Gateway to expanded awareness using 4Hz binaural beats.',
    category: 'focus',
    tracks: [
      {
        name: 'Pink Noise Bed',
        type: 'noise',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.15,
        pan: 0,
        noiseType: 'pink',
      },
      {
        name: 'Theta Binaural (4Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.6,
        pan: 0,
        baseFrequency: 200,
        leftOffset: -2,
        rightOffset: 2,
      },
      {
        name: 'Carrier 200Hz',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.3,
        pan: 0,
        waveform: 'sine',
        frequency: 200,
      },
    ],
    effects: defaultEffects,
    duration: 600,
  },
  {
    id: 'focus-12',
    name: 'Hemi-Sync Focus 12',
    description:
      'Expanded awareness state. Access to non-physical realms using 6Hz theta waves.',
    category: 'focus',
    tracks: [
      {
        name: 'Brown Noise Foundation',
        type: 'noise',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.12,
        pan: 0,
        noiseType: 'brown',
      },
      {
        name: 'Theta Binaural (6Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.65,
        pan: 0,
        baseFrequency: 180,
        leftOffset: -3,
        rightOffset: 3,
      },
      {
        name: '528Hz Solfeggio',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.25,
        pan: 0,
        waveform: 'sine',
        frequency: 528,
      },
    ],
    effects: {
      ...defaultEffects,
      reverb: {
        enabled: true,
        decay: 3.5,
        wet: 0.3,
      },
    },
    duration: 900,
  },
  {
    id: 'delta-sleep',
    name: 'Deep Delta Sleep',
    description:
      'Ultra-deep sleep inducement with 1-3Hz delta waves. Perfect for insomnia and deep rest.',
    category: 'sleep',
    tracks: [
      {
        name: 'White Noise Layer',
        type: 'noise',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.1,
        pan: 0,
        noiseType: 'white',
      },
      {
        name: 'Delta Binaural (1.5Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.7,
        pan: 0,
        baseFrequency: 100,
        leftOffset: -0.75,
        rightOffset: 0.75,
      },
      {
        name: 'Delta Isochronic (2Hz)',
        type: 'isochronic',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.4,
        pan: 0,
        carrierFrequency: 100,
        pulseFrequency: 2,
      },
    ],
    effects: {
      ...defaultEffects,
      reverb: {
        enabled: true,
        decay: 4,
        wet: 0.4,
      },
      delay: {
        enabled: true,
        time: 0.5,
        feedback: 0.4,
        wet: 0.2,
      },
    },
    duration: 3600,
  },
  {
    id: 'gamma-burst',
    name: 'Gamma Burst Focus',
    description:
      'High-performance cognitive enhancement. 40Hz gamma waves for peak mental clarity and focus.',
    category: 'energy',
    tracks: [
      {
        name: 'Gamma Binaural (40Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.6,
        pan: 0,
        baseFrequency: 200,
        leftOffset: -20,
        rightOffset: 20,
      },
      {
        name: 'Gamma Isochronic (40Hz)',
        type: 'isochronic',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.5,
        pan: 0,
        carrierFrequency: 250,
        pulseFrequency: 40,
      },
      {
        name: 'White Noise Accent',
        type: 'noise',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.08,
        pan: 0,
        noiseType: 'white',
      },
    ],
    effects: defaultEffects,
    duration: 1800,
  },
  {
    id: 'alpha-meditation',
    name: 'Alpha Wave Meditation',
    description:
      'Relaxed awareness and creativity. 10Hz alpha waves for meditation and stress relief.',
    category: 'meditation',
    tracks: [
      {
        name: 'Alpha Binaural (10Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.65,
        pan: 0,
        baseFrequency: 200,
        leftOffset: -5,
        rightOffset: 5,
      },
      {
        name: '432Hz Healing Tone',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.3,
        pan: 0,
        waveform: 'sine',
        frequency: 432,
      },
      {
        name: 'Pink Noise Ambience',
        type: 'noise',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.12,
        pan: 0,
        noiseType: 'pink',
      },
    ],
    effects: {
      ...defaultEffects,
      reverb: {
        enabled: true,
        decay: 3,
        wet: 0.35,
      },
    },
    duration: 1200,
  },
  {
    id: 'chakra-healing',
    name: 'Full Chakra Healing',
    description:
      'Complete chakra alignment using solfeggio frequencies and theta waves.',
    category: 'healing',
    tracks: [
      {
        name: '396Hz - Root Chakra',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.25,
        pan: -0.5,
        waveform: 'sine',
        frequency: 396,
      },
      {
        name: '417Hz - Sacral Chakra',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.25,
        pan: -0.25,
        waveform: 'sine',
        frequency: 417,
      },
      {
        name: '528Hz - Solar Plexus',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.25,
        pan: 0,
        waveform: 'sine',
        frequency: 528,
      },
      {
        name: '639Hz - Heart Chakra',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.25,
        pan: 0.25,
        waveform: 'sine',
        frequency: 639,
      },
      {
        name: '741Hz - Throat Chakra',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.25,
        pan: 0.5,
        waveform: 'sine',
        frequency: 741,
      },
      {
        name: 'Theta Binaural (6Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.4,
        pan: 0,
        baseFrequency: 200,
        leftOffset: -3,
        rightOffset: 3,
      },
    ],
    effects: {
      ...defaultEffects,
      reverb: {
        enabled: true,
        decay: 5,
        wet: 0.5,
      },
      delay: {
        enabled: true,
        time: 0.375,
        feedback: 0.3,
        wet: 0.25,
      },
    },
    duration: 2100,
  },
  {
    id: 'schumann-resonance',
    name: 'Schumann Resonance 7.83Hz',
    description:
      "Earth's natural frequency. Grounding and balancing for mind-body harmony.",
    category: 'healing',
    tracks: [
      {
        name: 'Schumann Binaural (7.83Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.7,
        pan: 0,
        baseFrequency: 174,
        leftOffset: -3.915,
        rightOffset: 3.915,
      },
      {
        name: 'Brown Noise Earth',
        type: 'noise',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.15,
        pan: 0,
        noiseType: 'brown',
      },
      {
        name: '174Hz Solfeggio',
        type: 'oscillator',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.2,
        pan: 0,
        waveform: 'sine',
        frequency: 174,
      },
    ],
    effects: {
      ...defaultEffects,
      reverb: {
        enabled: true,
        decay: 4.5,
        wet: 0.4,
      },
    },
    duration: 1800,
  },
  {
    id: 'lucid-dreaming',
    name: 'Lucid Dream Induction',
    description:
      'REM sleep enhancement with 4-7Hz theta waves for lucid dream awareness.',
    category: 'sleep',
    tracks: [
      {
        name: 'Theta Binaural (6Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.6,
        pan: 0,
        baseFrequency: 150,
        leftOffset: -3,
        rightOffset: 3,
      },
      {
        name: 'Alpha Border (8Hz)',
        type: 'binaural',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.4,
        pan: 0,
        baseFrequency: 200,
        leftOffset: -4,
        rightOffset: 4,
      },
      {
        name: 'Pink Noise Dream',
        type: 'noise',
        enabled: true,
        solo: false,
        mute: false,
        volume: 0.1,
        pan: 0,
        noiseType: 'pink',
      },
    ],
    effects: {
      ...defaultEffects,
      reverb: {
        enabled: true,
        decay: 6,
        wet: 0.6,
      },
      delay: {
        enabled: true,
        time: 0.667,
        feedback: 0.5,
        wet: 0.3,
      },
    },
    duration: 5400,
  },
];

export const getPresetById = (id: string): Preset | undefined => {
  return RESONIX_PRESETS.find((preset) => preset.id === id);
};

export const getPresetsByCategory = (
  category: Preset['category']
): Preset[] => {
  return RESONIX_PRESETS.filter((preset) => preset.category === category);
};
